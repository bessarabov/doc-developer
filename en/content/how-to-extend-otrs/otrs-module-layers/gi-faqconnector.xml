<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">

<section id="faqconnector">
    <title>Generic Interface FAQ Connector API</title>
    <para>
        For the following examples uses SOAP XML data structures since HTTP::SOAP is the default
        transport for Generic Interface Operations and can be used with otrs.SOAPRequest.pl.
    </para>
    <para>
        otrs.SOAPRequest.pl is a simple Perl script to test the OTRS Generic Interface, the code
        can be found in the OTRS administration manual.
    </para>
    <section>
        <title>LanguageList</title>
        <para>
            For this operation is not necessary to send any special parameter to the server, you
            just need to request the web service directly indicating the "LanguageList" operation.
            The operation will return a list of languages including ID and the Name for each
            language on the system.
        </para>
        <para>
            Request format:
        </para>
        <para>
            <screen>
                <![CDATA[
        <LanguageList/>
                ]]>
            </screen>
        </para>
        <para>
            Response format:
        </para>
        <para>
            <screen>
                <![CDATA[
      <LanguageListResponse>
         <!--1 or more repetitions:-->
         <Language>
            <ID>?</ID>
            <Name>?</Name>
         </Language>
      </LanguageListResponse>
                ]]>
            </screen>
        </para>
        <para>
            Response example:
        </para>
        <para>
            <screen>
                <![CDATA[
      <LanguageListResponse>
         <Language>
            <ID>1</ID>
            <Name>en</Name>
         </Language>
         <Language>
            <ID>2</ID>
            <Name>de</Name>
         </Language>
         <Language>
            <ID>3</ID>
            <Name>es</Name>
         </Language>
      </LanguageListResponse>
                ]]>
            </screen>
        </para>
    </section>
    <section>
        <title>PublicCategoryList</title>
        <para>
            For this operation is also not necessary any special parameter, just the simple call for
            requesting the web service with the operation name 'PublicCategoryList' as a response
            you will receive a list of categories including the ID and the Name (long format) for
            each category.
        </para>
        <para>
            Request format:
        </para>
        <para>
            <screen>
                <![CDATA[
        <PublicCategoryList/>
                ]]>
            </screen>
        </para>
        <para>
            Response format:
        </para>
        <para>
            <screen>
                <![CDATA[
     <PublicCategoryListResponse>
         <!--1 or more repetitions:-->
         <Category>
            <ID>?</ID>
            <Name>?</Name>
         </Category>
      </PublicCategoryListResponse>
                 ]]>
            </screen>
        </para>
        <para>
            Response example:
        </para>
        <para>
            <screen>
                <![CDATA[
      <PublicCategoryListResponse>
         <Category>
            <ID>2</ID>
            <Name>Pulbic</Name>
         </Category>
         <Category>
            <ID>5</ID>
            <Name>Public::SubCategory A</Name>
         </Category>
         <Category>
            <ID>8</ID>
            <Name>Public::SubCategory B</Name>
         </Category>
      </PublicCategoryListResponse>
                ]]>
            </screen>
        </para>
    </section>
    <section>
        <title>PublicFAQGet</title>
        <para>
            To be able to get one or more FAQ entries, you should send the ItemID(s) as a parameter
            for the FAQ entry you want to get. You will receive the entire FAQ record with all
            attachments included. Note that attachment contents will be transferred as
            base64-encoded strings.
        </para>
        <para>
            Setting GetAttachmentContents to 0 will prevent to fetch the content of the attachment
            this will increase the performance of the operation when the attachment contents are not
            really needed.
        </para>
        <para>
            Request format:
        </para>
        <para>
            <screen>
                <![CDATA[
      <PublicFAQGet>
         <ItemID>?</ItemID>
         <!-- optional, defaults to 1 -->
         <GetAttachmentContents>?</GetAttachmentContents>
      </PublicFAQGet>
                ]]>
            </screen>
        </para>
        <para>
            Request example:
        </para>
        <para>
            <screen>
                <![CDATA[
      <PublicFAQGet>
        <ItemID>6,7</ItemID>
      </PublicFAQGet>
                ]]>
            </screen>
        </para>
        <para>
            Response format:
        </para>
        <para>
            <screen>
                <![CDATA[
      <PublicFAQGetResponse>
         <!--Zero or more repetitions:-->
         <FAQItem>
            <Approved>?</Approved>
            <CategoryID>?</CategoryID>
            <CategoryName>?</CategoryName>
            <CategoryShortName>?</CategoryShortName>
            <Changed>?</Changed>
            <ChangedBy>?</ChangedBy>
            <Created>?</Created>
            <CreatedBy>?</CreatedBy>
            <FAQID>?</FAQID>
            <Field1>?</Field1>
            <Field2>?</Field2>
            <Field3>?</Field3>
            <Field4>?</Field4>
            <Field5>?</Field5>
            <Field6>?</Field6>
            <ID>?</ID>
            <ItemID>?</ItemID>
            <Keywords>?</Keywords>
            <Language>?</Language>
            <LanguageID>?</LanguageID>
            <Name>?</Name>
            <Number>?</Number>
            <State>?</State>
            <StateID>?</StateID>
            <StateTypeID>?</StateTypeID>
            <Title>?</Title>
            <VoteResult>?</VoteResult>
            <Votes>?</Votes>
            <StateTypeName>?</StateTypeName>
            <ContentType>?</ContentType>
            <!--Zero or more repetitions:-->
            <Attachment>
               <Filename>?</Filename>
               <Filesize>?</Filesize>
               <ContentType>?</ContentType>
               <Content>cid:1269416154096</Content>
               <Inline>?</Inline>
               <FileID>?</FileID>
            </Attachment>
         </FAQItem>
      </PublicFAQGetResponse>
                ]]>
            </screen>
        </para>
        <para>
            Response example:
        </para>
        <para>
            <screen>
                <![CDATA[
      <PublicFAQGetResponse>
          <FAQItem>
            <ID>6</ID>
            <ItemID>6</ItemID>
            <FAQID>6</FAQID>
            <Number>10006</Number>
            <CategoryID>2</CategoryID>
            <CategoryName>Public</CategoryName>
            <CategoryShortName>Public</CategoryShortName>
            <LanguageID>1</LanguageID>
            <Language>en</Language>
            <Title>Public2</Title>
            <Field1>The Symptoms</Field1>
            <Field2>The Problem</Field2>
            <Field3>The Solution</Field3>
            <Field4/>
            <Field5/>
            <Field6>The Comments</Field6>
            <Approved>1</Approved>
            <Keywords>Keyword1 Keyword2 Keyword3</Keywords>
            <Votes>1</Votes>
            <VoteResult>75.00</VoteResult>
            <StateID>3</StateID>
            <State>public (all)</State>
            <StateTypeID>3</StateTypeID>
            <StateTypeName>public</StateTypeName>
            <Created>2010-11-02 08:06:43</Created>
            <CreatedBy>1</CreatedBy>
            <Changed>2010-11-02 08:06:43</Changed>
            <ChangedBy>1</ChangedBy>
            <Name>1288706803-91.878184450707</Name>
            <ContentType>text/html</ContentType>
             <Attachment>
                <Content>...==</Content>
                <ContentType>text/plain</ContentType>
                <Filename>Details.txt</Filename>
                <Filesize>296</Filesize>
               <Inline>0</Inline>
               <FileID>34</FileID>
             </Attachment>
             <Attachment>
                <Content>...==</Content>
                <ContentType>text/plain</ContentType>
                <Filename>Text.bin</Filename>
                <Filesize>980</Filesize>
               <Inline>0</Inline>
               <FileID>35</FileID>
             </Attachment>
          </FAQItem>
          <FAQItem>
            <ID>7</ID>
            <ItemID>7</ItemID>
            <FAQID>7</FAQID>
            <Number>10006</Number>
            <CategoryID>2</CategoryID>
            <CategoryName>Public</CategoryName>
            <CategoryShortName>Public</CategoryShortName>
            <LanguageID>1</LanguageID>
            <Language>en</Language>
            <Title>Public777</Title>
            <Field1>The Symptoms</Field1>
            <Field2>The Problem</Field2>
            <Field3>The Solution</Field3>
            <Field4/>
            <Field5/>
            <Field6>The Comments</Field6>
            <Approved>1</Approved>
            <Keywords>Keyword1 Keyword2 Keyword3</Keywords>
            <Votes>1</Votes>
            <VoteResult>75.00</VoteResult>
            <StateID>3</StateID>
            <State>public (all)</State>
            <StateTypeID>3</StateTypeID>
            <StateTypeName>public</StateTypeName>
            <Created>2010-16-03 02:06:43</Created>
            <CreatedBy>1</CreatedBy>
            <Changed>2010-11-02 02:06:43</Changed>
            <ChangedBy>1</ChangedBy>
            <Name>1288706803-91.878184450707</Name>
            <ContentType>text/html</ContentType>
          </FAQItem>
      </PublicFAQGetResponse>
                ]]>
            </screen>
        </para>
    </section>
    <section>
        <title>PublicFAQSearch</title>
        <para>
            For this operation you can specify the following optional parameters: Name, Title, What
            (full text search), Keyword, LanguageIDs and CategoryIDs to narrow the search results.
            You may also specify the order of the results by the following parameters: OrderBy and
            OrderByDirection.
        </para>
        <para>
            Send a request to the web service with the operation name 'PublicFAQSearch' as a
            response you will receive a list of FAQ item IDs.
        </para>
        <note>
            <para>
                The full FAQ item data can be retrieved for each ID by using 'PublicFAQGet'
                operation separately.
            </para>
        </note>
        <para>
            Request format:
        </para>
        <para>
            <screen>
                <![CDATA[
      <PublicFAQSearch>
         <!--Optional:-->
         <Number>?</Number>
         <!--Optional:-->
         <Title>?</Title>
         <!--Optional:-->
         <What>?</What>
         <!--Optional:-->
         <Keyword>?</Keyword>
         <!--Zero or more repetitions:-->
         <LanguageIDs>?</LanguageIDs>
         <!--Zero or more repetitions:-->
         <CategoryIDs>?</CategoryIDs>
         <!--Zero or more repetitions:-->
         <SortBy>?</SortBy>
         <!--Optional:-->
         <OrderBy>?</OrderBy>
         <!--Optional:-->
         <OprderByDirection>?</OprderByDirection>
      </PublicFAQSearch>
                ]]>
            </screen>
        </para>
        <para>
            Request example:
        </para>
        <para>
            <screen>
                <![CDATA[
     <PublicFAQSearch>
        <Number>*134*</Number>
        <Title>*some title*</Title>
        <What>*some text*</What>
        <Keyword>*webserver*</Keyword/>
        <LanguageIDs>1</LanguageIDs>
        <CategoryIDs>2</CategoryIDs>
        <OrderBy>FAQID</OrderBy>
        <OrderByDirection>Up</OrderByDirection>
      </PublicFAQSearch>
                ]]>
            </screen>
        </para>
        <para>
            Response format:
        </para>
        <para>
            <screen>
                <![CDATA[
      <PublicFAQSearchResponse>
         <!--Zero or more repetitions:-->
         <ID>?</ID>
      </PublicFAQSearchResponse>
                ]]>
            </screen>
        </para>
        <para>
            Response example:
        </para>
        <para>
            <screen>
                <![CDATA[
      <PublicFAQSearchResponse>
         <ID>20</ID>
         <ID>19</ID>
         <ID>18</ID>
         <ID>17</ID>
         <ID>16</ID>
         <ID>15</ID>
         <ID>14</ID>
         <ID>13</ID>
         <ID>11</ID>
         <ID>6</ID>
         <ID>5</ID>
      </PublicFAQSearchResponse>
                ]]>
            </screen>
        </para>
    </section>
</section>
